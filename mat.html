<body>
<canvas id="c"></canvas>
<script>
var s = window.screen;
var c = document.getElementById("c");
var ctx = c.getContext("2d");

var width = c.width = s.width;
var height = c.height = s.height;

var matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789#$%^&*()*&^%";

matrix = matrix.split("");

var font_size = 10;
var columns = c.width / font_size;
var drops = [];
for(var x = 0; x < columns; x++)
	drops[x] = 1; 

function draw() {
	ctx.fillStyle = "rgba(0, 0, 0, 0.04)";
	ctx.fillRect(0, 0, c.width, c.height);
	ctx.fillStyle = "#0F0";
	ctx.font = font_size + "px arial";
	for( var i = 0; i < drops.length; i++ ) {
		var text = matrix[ Math.floor( Math.random() * matrix.length ) ];
		ctx.fillText(text, i * font_size, drops[i] * font_size);
		if( drops[i] * font_size > c.height && Math.random() > 0.975 )
			drops[i] = 0;
		drops[i]++;
	}
}
setInterval( draw, 35 );
</script>
</body>
<body style="margin:0">
<canvas id="q"></canvas>
</body>

<script type="text/javascript">
    var width = q.width = window.innerWidth; // ブラウザ画面の幅
    var height = q.height = window.innerHeight; // ブラウザ画面の高さ
    var letters = Array(256).join(1).split('');
        // Matrix rainで降らせる文字（日本語を入れてもよい）
    var matrix = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789@#$%^&*()*&^%";

    var draw = function () {
        q.getContext('2d').fillStyle='rgba(0,0,0,.05)';
        q.getContext('2d').fillRect(0,0,width,height);
        q.getContext('2d').fillStyle='#0F0';
        letters.map(function(y_pos, index){
    text = Math.floor( Math.random() * 10 );
    text = matrix[Math.floor(Math.random() * matrix.length)];
    x_pos = index * 10;
    q.getContext('2d').fillText(text, x_pos, y_pos);
    q.getContext('2d').font = "12px 'Monaco'"; // MonacoはMacOS標準搭載のフォントらしい。コメントアウトするとcanvasデフォルトのフォントとなる
    letters[index] = (y_pos > 0 + Math.random() * 1e4) ? 0 : y_pos + 10;
    });
};
setInterval(draw, 30); // Matrix rainが降ってくる速さ
</script>
